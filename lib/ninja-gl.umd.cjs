(function(a,n){typeof exports=="object"&&typeof module<"u"?module.exports=n():typeof define=="function"&&define.amd?define(n):(a=typeof globalThis<"u"?globalThis:a||self,a["ninja-gl"]=n())})(this,function(){"use strict";class a{constructor(e){this.gl=e,this.gl=e}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}clearColor(e,i,r,s){this.gl.clearColor(e,i,r,s)}viewport(e,i,r,s){this.gl.viewport(e,i,r,s)}drawElements(e,i,r,s){this.gl.drawElements(e,i,r,s)}create(e,i){const r=n(this.gl,this.gl.VERTEX_SHADER,e),s=n(this.gl,this.gl.FRAGMENT_SHADER,i);return E(this.gl,r,s)}draw(e,i,r){this.gl.useProgram(e),this.gl.bindVertexArray(i),this.gl.drawElements(this.gl.TRIANGLES,r,this.gl.UNSIGNED_SHORT,0)}setUniform(e,i,r){const s=this.gl.getUniformLocation(e,i);this.gl.uniform1f(s,r)}setUniformMatrix(e,i,r){const s=this.gl.getUniformLocation(e,i);this.gl.uniformMatrix4fv(s,!1,r)}setAttribute(e,i,r,s){const o=this.gl.getAttribLocation(e,i);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r),this.gl.enableVertexAttribArray(o),this.gl.vertexAttribPointer(o,3,this.gl.FLOAT,!1,s,0)}setTexture(e,i,r,s,o){const R=this.gl.getUniformLocation(e,i);this.gl.texParameterf(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameterf(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.texParameterf(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameterf(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),o.forEach(h=>{this.gl.texParameterf(this.gl.TEXTURE_2D,h.key,h.value)}),this.gl.activeTexture(this.gl.TEXTURE0+s),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(R,s)}createTexture(e){return f(this.gl,e)}createVbo(e){return l(this.gl,e)}createIbo(e){return T(this.gl,e)}createVao(e,i){const r=this.gl.createVertexArray();return this.gl.bindVertexArray(r),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,i),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.enableVertexAttribArray(0),this.gl.vertexAttribPointer(0,3,this.gl.FLOAT,!1,0,0),this.gl.bindVertexArray(null),r}}function n(t,e,i){const r=t.createShader(e);return r?(t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)===!1&&console.error(t.getShaderInfoLog(r)),r):null}function E(t,e,i){const r=t.createProgram();return r?(t.attachShader(r,e),t.attachShader(r,i),t.getProgramParameter(r,t.LINK_STATUS)===!1&&console.error(t.getProgramInfoLog(r)),t.linkProgram(r),t.useProgram(r),r):null}function l(t,e){const i=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),i}function T(t,e){const i=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Int16Array(e),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),i}function f(t,e){const i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),i}return a});
